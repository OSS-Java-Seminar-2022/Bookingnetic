<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <link th:href="@{/css/bootstrap.css}" rel="stylesheet" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

  <meta charset="UTF-8">
  <title> Bookingnetic</title>
</head>
<body >
  <div th:replace="~{./includes/header.html :: header}"></div>
  <div class="d-flex flex-column vw-100 vh-100 align-items-center mt-3" th:object="${images}">
    <div class="w-75 mt-3">
      <div class="col-md-12 d-flex">
      <h3 th:text="${accommodation.title}"></h3>&nbsp;&nbsp;&nbsp;
        <a th:href="@{/accommodation/edit/{id}(id=${accommodation.id})}" class="btn btn-outline-primary btn-sm rounded-pill">
            <i class="material-icons">&#xE254;</i>
      </a>&nbsp;
      <a href="#" class="btn btn-outline-danger btn-sm rounded-pill">
          <i class="material-icons">&#xE872;</i>
      </a>
      </div>
      <p class="mt-3 " th:text="${accommodation.description}"></p>
      <p class="mt-3 " th:text="${accommodation.price_for_night}+'$/night' "></p>
      <p th:text="${accommodation.address.street} + ', ' + ${accommodation.address.city}"></p>
      <h4 th:if="${images == null}"> You didn't upload any images</h4>
      <div th:unless="${images==null}" th:object="${image}">
        <div class="d-flex w-100 h-100 flex-row" th:each="image :${images}">
          <img th:src="${'data:image/jpeg;charset=utf-8;base64,' + image}" alt="" th:width="200px" th:height="200px"></td>
        </div>
      </div>
      <form name="f" th:action="@{{accom_id}/image(accom_id=${accommodation.id})}" th:method="post" enctype="multipart/form-data">
        <div class="d-flex align-content-end flex-wrap mb-2 mt-4">
        <label for="input-file" class="custom-file-upload">
          Upload Image
        </label>
        <span class="text-black text-start mt-2 mx-1">No file chosen...</span>
        <input id="input-file" type="file" name="file" accept="image/png, image/jpeg"/>
        <button type="submit" class="btn btn-primary rounded-pill">Add image</button>
        </div>
      </form>
    </div>

  </div>

  <div th:replace="~{./includes/footer.html :: footer}"></div>
</body>
</html>